<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:b="http://bootsfaces.net/ui" 
    xmlns:f = "http://java.sun.com/jsf/core"

    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
        
    <b:column col-md="10" style="margin-top: 30px">
        <ui:param value="#{consomationController.getInProgressConsomations(clientController.client)}" name="inProgress" />
        <ui:param value="#{consomationController.getNonPaidClientConsomations(clientController.client)}" name="nonPaid" />
        <ui:param value="#{consomationController.getPaidConsomations(clientController.client)}" name="paid" />
        <b:tabView active-index="1" >
            <b:tab title="En cours ( #{inProgress.size()} )">
                <div style="margin-top:30px">
                    <b:dataTable value="#{inProgress}" var="consomation">
                        <b:dataTableColumn value="#{consomation.idConsom}"  label="Id Consomation"/>
                        <b:dataTableColumn value="#{converters.getFormattedDate(consomation.dateCreation)}" label="Date de Creation" />
                        <b:dataTableColumn value="#{consomation.montant}" label="Montant"  />
                    </b:dataTable>
                </div>
            </b:tab>
            <b:tab title="Non payées ( #{nonPaid.size()} )">
                <div style="margin-top:30px">
                    <b:dataTable value="#{nonPaid}" var="consomation">
                        <b:dataTableColumn value="#{consomation.idConsom}"  label="Id Consomation"/>
                        <b:dataTableColumn value="#{converters.getFormattedDate(consomation.dateCreation)}" label="Date de Creation" />
                        <b:dataTableColumn value="#{consomation.montant}" label="Montant"  />
                    </b:dataTable>
                </div>
            </b:tab>
            <b:tab title="Payée ( #{paid.size()} )">
                <div style="margin-top:30px">
                    <b:dataTable value="#{paid}" var="consomation">
                        <b:dataTableColumn value="#{consomation.idConsom}"  label="Id Consomation"/>
                        <b:dataTableColumn value="#{converters.getFormattedDate(consomation.dateCreation)}" label="Date de Creation" />
                        <b:dataTableColumn value="#{consomation.montant}" label="Montant"  />
                    </b:dataTable>
                </div>
            </b:tab>
            <b:tab title="Tous ( #{clientController.client.consomationList.size()} )">
                <div style="margin-top:30px">
                    <b:dataTable value="#{clientController.client.consomationList}" var="consomation">
                        <b:dataTableColumn value="#{consomation.idConsom}"  label="Id Consomation"/>
                        <b:dataTableColumn value="#{converters.getFormattedDate(consomation.dateCreation)}" label="Date de Creation" />
                        <b:dataTableColumn value="#{consomation.montant}" label="Montant"  />
                    </b:dataTable>
                </div>
            </b:tab>
          
        </b:tabView>
    </b:column>
    
</ui:composition>
